import sys
import time
import struct
import statistics

from task.helper import get_data
from util.util import TcpClient, timestamp
import pickle
import os


def main():
    list_bertBase = [600, 600, 
    #Values from 5x10 runs x6 requests each
    272.8419303894043, 273.3771800994873, 272.8574275970459, 275.7105827331543, 272.45187759399414, 273.18811416625977, 272.1295356750488, 272.8891372680664, 272.676944732666, 272.7999687194824
    , 273.55360984802246, 274.17874336242676, 274.14941787719727, 273.58055114746094, 272.16410636901855, 273.303747177124, 273.2970714569092, 273.4029293060303, 272.6747989654541, 273.2524871826172
    , 273.3118534088135, 272.82094955444336, 273.76270294189453, 272.6266384124756, 274.1267681121826, 272.02773094177246, 273.1032371520996, 272.66454696655273, 272.91154861450195, 272.5861072540283
    , 274.0349769592285, 273.5445499420166, 273.83899688720703, 273.90027046203613, 273.8528251647949, 275.76255798339844, 278.40280532836914, 273.46086502075195, 277.3454189300537, 272.9358673095703
    ,274.4336128234863, 273.44393730163574, 272.7956771850586, 275.2096652984619, 273.11086654663086, 273.78058433532715, 273.6356258392334, 273.1940746307373, 273.1800079345703, 273.12231063842773
    ]

    list_Resnet = [600,600
    , 408.282995223999, 398.9229202270508, 397.6635932922363, 393.09167861938477, 387.3894214630127, 397.1283435821533, 405.34257888793945, 395.58982849121094, 392.7454948425293, 392.017126083374
    , 411.90361976623535, 403.1076431274414, 407.98187255859375, 397.8121280670166, 396.82888984680176, 397.77350425720215, 404.9689769744873, 403.3622741699219, 398.6055850982666, 400.7852077484131
    , 398.47874641418457, 403.4247398376465, 420.23706436157227, 401.59106254577637, 418.75243186950684, 392.9553031921387, 408.0352783203125, 401.03602409362793, 406.16536140441895, 397.79210090637207
    , 424.0298271179199, 394.8845863342285, 407.14406967163086, 391.62230491638184, 394.03414726257324, 399.43552017211914, 400.30956268310547, 390.028715133667, 405.80201148986816, 391.6172981262207
    , 407.55224227905273, 390.2139663696289, 398.8533020019531, 392.79842376708984, 398.146390914917, 390.6872272491455, 387.94851303100586, 397.8309631347656, 399.3351459503174, 397.7944850921631
    ]
    list_inception = [ 600, 600
    , 331.8817615509033, 312.6790523529053, 330.2266597747803, 313.85254859924316, 303.0574321746826, 309.31878089904785, 314.03040885925293, 307.1613311767578, 317.14510917663574, 315.53173065185547
    , 346.70567512512207, 318.39847564697266, 345.31188011169434, 312.4120235443115, 317.6300525665283, 313.1091594696045, 311.90967559814453, 312.9432201385498, 317.0444965362549, 328.16243171691895
    , 316.2844181060791, 323.5750198364258, 321.92134857177734, 311.2916946411133, 307.30581283569336, 315.91010093688965, 331.4542770385742, 307.178258895874, 316.8618679046631, 307.830810546875
    , 318.6826705932617, 334.6741199493408, 307.50036239624023, 313.5535717010498, 306.28466606140137, 322.0992088317871, 310.8499050140381, 312.79802322387695, 324.4340419769287, 309.722900390625
    , 354.62284088134766, 316.3599967956543, 347.52511978149414, 317.547082901001, 320.3754425048828, 313.8546943664551, 324.17988777160645, 313.3211135864258, 310.57238578796387, 313.47131729125977   
    ]

    awgBB = Average(list_bertBase)
    awgRN = Average(list_Resnet)
    awgI3 = Average(list_inception)

    perR_BB = awgBB/6
    perR_RN = awgRN/6
    perR_I3 = awgI3/6
    print('Avrage time for BB is : ' + str(awgBB) +' with a perRun of: ' + str(perR_BB))
    print('Avrage time for RN is : ' + str(awgRN) +' with a perRun of: ' + str(perR_RN))
    print('Avrage time for I3 is : ' + str(awgI3) +' with a perRun of: ' + str(perR_I3))
def Average(lst):
    return sum(lst) / len(lst)    
if __name__ == '__main__':
    main()
